## vulnerable program

```c
#include <stdlib.h>
#include <stdio.h>
#include <string.h>

int bowfunc(char *string) {

	char buffer[1024];
	strcpy(buffer, string);
	return 1;
}

int main(int argc, char *argv[]) {

	bowfunc(argv[1]);
	printf("Done.\n");
	return 1;
}
```

disable ASLR

```bash
sudo su
echo 0 > /proc/sys/kernel/randomize_va_space
```

compile
```bash
# 32-bit
gcc bow.c -o bow32 -fno-stack-protector -z execstack -m32
file bow32 | tr "," "\n"

# 64-bit
gcc bow.c -o bow64 -fno-stack-protector -z execstack -m64
file bow64 | tr "," "\n"
```

## gdb

```bash
echo 'set disassembly-flavor intel' > ~/.gdbinit
```

```
disas FUNCTION
run $(python -c "print 'i' * 1200") # /usr/share/metasploit-framework/tools/exploit/pattern_create.rb -l 1200 > pattern.txt
info registers
```
